# STM32 debuger console command:
# dump ihex value ./tmp.txt buffer

def ihex_to_byte_list_with_print(ihex_lines):
    for line in ihex_lines.splitlines():
        if line.startswith(":"):
            record_length = int(line[1:3], 16)
            data = line[9 : 9 + record_length * 2]
            byte_list = [f"0x{data[i:i+2]}" for i in range(0, len(data), 2)]
            print(byte_list)


ihex_dump = """
:10FB7C000000000000000000000000000000000079
:10FB8C000000000000000000000000000000000069
:10FB9C000000000000000080C0C0C0E0E0E0F0F019
:10FBAC00F0787878787C7C7C7C7C7C7C7C7C7C7C25
:10FBBC007CF8F8F8F8F8F0F0F0F0E0E0E0C0C08085
:10FBCC0080000000000000000000000000000000A9
:10FBDC000000000000000000000000000000000019
:10FBEC000000000000000000000000000000000009
:10FBFC0000000000000000000000000000000000F9
:10FC0C000000000000000000000000000000C0E048
:10FC1C00F0783C1E0E0F070783C3C3E1E1F1F0F04F
:10FC2C007878787878787878787878787870707060
:10FC3C00F0E0E0E0C0C18181030307070F0F1F3F15
:10FC4C003F7FFFFEFCFCF8F0E0C0800000000000ED
:10FC5C000000000000000000000000000000000098
:10FC6C000000000000000000000000000000000088
:10FC7C000000000000000000000000000000000078
:10FC8C000000000000000000000000180E07030137
:10FC9C000000C0F0F87C3E1F0F07030381808080BA
:10FCAC008080000000000000000000000000808048
:10FCBC00808081810303070F1F3E7CF8F0E08000F9
:10FCCC000000000103071F3FFFFFFFFFFEFCF8E0F1
:10FCDC00C08080808080C0C0C0E0E0E07030180838
:10FCEC000000000000000000000000000000000008
:10FCFC0000000000000000000000000000000000F8
:10FD0C00000000000000000000000000000080F077
:10FD1C00FEFF3F070100C0F8FCFEFFFFFFFFFFFFE7
:10FD2C00FFFFFFFFFEFEFCF8F8F8FCFEFFFFFFFFF5
:10FD3C00FFFFFFFFFFFFFEFCF8E00001030F7FFE5B
:10FD4C00F00000000000000000030F7FFFFFFFFF2A
:10FD5C00FF3F3F3F1F1F0F0F070301000000000074
:10FD6C000000000000000000000000000000000087
:10FD7C000000000000000000000000000000000077
:10FD8C000000000000000000000000000000FFFF69
:10FD9C00FF0100000000FFFFFFFFFFFFFFFFFFFF61
:10FDAC00FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF57
:10FDBC00FFFFFFFFFFFFFFFFFF3F0000000000FF02
:10FDCC00FFFF0000000000000000000001FFFFFF2B
:10FDDC007F00000000000000000000000000000098
:10FDEC000000000000000000000000000000000007
:10FDFC0000000000000000000000000000000000F7
:10FE0C000000000000000000000000000000077F60
:10FE1C00FFFCE000000000030F1F3F7FFFFFFFFF10
:10FE2C00FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD6
:10FE3C00FFFFFFFF7F3F1F070100000000E0F8FFFE
:10FE4C007F0F0000000000000000000000001F07F2
:10FE5C000000000000000000000000000000000096
:10FE6C000000000000000000000000000000000086
:10FE7C000000000000000000000000000000000076
:10FE8C000000000000000000000000000000000066
:10FE9C0001071F3F7EF8F0E0C080800000010307DF
:10FEAC00070F0F1F1F3F3F3F3F3F1F1F0F0F07073E
:10FEBC0003010100008080C0E0E0F87C3F1F0F03CD
:10FECC000000000000000000000000000000000026
:10FEDC000000000000000000000000000000000016
:10FEEC000000000000000000000000000000000006
:10FEFC0000000000000000000000000000000000F6
:10FF0C0000000000000000000000000000000000E5
:10FF1C00000000000000010307070F0F0E1E1E1C3F
:10FF2C001C3C38383838383838383838383C3C1C71
:10FF3C001E1E0E0F0F07070301010000000000003A
:10FF4C0000000000000000000000000000000000A5
:10FF5C000000000000000000000000000000000095
:10FF6C000000000000000000000000000000000085
"""

bytes_list = ihex_to_byte_list_with_print(ihex_dump)
print(bytes_list)
